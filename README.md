# Playwright 기반 시각적 테스트 자동화 도구

## 프로젝트 목표 (Project Goal)

Playwright를 핵심 엔진으로 사용하여, 사용자가 코딩 없이 웹 UI를 통해 테스트 케이스를 시각적으로 설계, 관리, 실행할 수 있는 통합 테스트 자동화 플랫폼을 구축합니다.

## 핵심 기능 (Core Features)

1.  **웹 기반 대시보드:**
    -   사용자가 모든 테스트 자산을 관리하고 프로젝트 상태를 한눈에 파악할 수 있는 중앙 허브를 제공합니다.

2.  **시각적 테스트 편집기 (Visual Test Editor):**
    -   사전 정의된 '테스트 모듈'(예: 'URL로 이동', '버튼 클릭', '텍스트 입력')을 캔버스에 끌어다 놓습니다.
    -   이 모듈들을 시각적으로 연결하여 복잡한 테스트 시나리오(Flow)를 구성합니다.
    -   사용자는 코드를 작성할 필요 없이 테스트 로직을 재사용하고 재조합할 수 있습니다.

3.  **테스트 관리 및 실행:**
    -   생성된 테스트 시나리오를 저장, 수정, 삭제할 수 있습니다.
    -   UI에서 버튼 클릭 한 번으로 원하는 테스트를 즉시 또는 예약 실행할 수 있습니다.

4.  **실시간 실행 뷰 (Live Execution View):**
    -   테스트가 실행되는 동안 Playwright 브라우저의 현재 화면을 웹 앱 내에서 실시간으로 스트리밍하여 보여줍니다.
    -   사용자는 테스트 진행 상황을 직접 눈으로 확인할 수 있습니다.

## Playwright 테스트 러너 통합 (Playwright Test Runner Integration)

이 프로젝트는 Playwright의 내장 테스트 러너를 활용하여 테스트를 실행하고 결과를 관리합니다. 백엔드는 Playwright 테스트 파일을 관리하고 실행하는 API 엔드포인트를 제공하며, 프론트엔드는 이 API를 통해 테스트를 조회, 실행하고 결과를 시각화합니다.

### 백엔드 API 엔드포인트:

-   `GET /playwright/tests`: 백엔드에 저장된 모든 Playwright 테스트 파일 목록을 반환합니다.
-   `GET /playwright/tests/:fileName`: 특정 Playwright 테스트 파일의 내용을 반환합니다.
-   `POST /playwright/run/:fileName`: 지정된 Playwright 테스트 파일을 실행하고, Playwright 테스트 러너의 JSON 형식 결과를 반환합니다.

### 프론트엔드 통합 계획:

-   **테스트 파일 조회 및 표시:** 백엔드 API를 호출하여 테스트 파일 목록을 가져오고, 사용자 인터페이스에 표시합니다.
-   **테스트 파일 내용 편집:** 선택된 테스트 파일의 내용을 가져와 편집 가능한 형태로 제공합니다.
-   **테스트 실행 및 결과 시각화:** 사용자가 테스트 실행을 요청하면 백엔드 API를 호출하고, 반환된 JSON 결과를 파싱하여 테스트 성공/실패 여부, 실행 시간, 에러 메시지 등을 시각적으로 표시합니다.
-   **실시간 실행 과정:** 현재는 테스트 완료 후 결과를 반환하는 방식이지만, 향후 웹소켓 등을 활용하여 테스트 실행 과정을 실시간으로 스트리밍하는 기능을 추가할 수 있습니다.

## 제안 기술 스택 (Proposed Tech Stack)

-   **Frontend:**
    -   **React / TypeScript:** 동적인 UI와 시각적 편집기 구현에 적합합니다.
    -   **React Flow (or similar):** 노드 기반의 시각적 편집기 UI를 구축하기 위한 라이브러리입니다.
    -   **WebSocket Client:** 실시간 실행 뷰를 위한 서버와의 통신을 담당합니다.
-   **Backend:**
    -   **Node.js / Express (or Fastify):** Playwright와의 통합이 용이하고 API 서버 구축에 효율적입니다.
    -   **Playwright:** 핵심 테스트 자동화 및 브라우저 제어 엔진입니다.
    -   **WebSocket Server:** 프론트엔드로 테스트 실행 화면 및 로그를 실시간 스트리밍합니다.

## 개발 로드맵 (Development Roadmap)

-   [x] **1단계: 기본 프로젝트 구조 설정**
    -   [ ] Frontend(React)와 Backend(Node.js)를 포함하는 모노레포(Monorepo) 구조 설정
    -   [ ] Playwright, Express, React 등 핵심 의존성 설치
-   [x] **2단계: 핵심 백엔드 API 구현**
    -   [x] 간단한 Playwright 스크립트를 실행하고 결과를 반환하는 API 엔드포인트 개발 (Playwright 테스트 러너 통합으로 대체)
    -   [x] Playwright 테스트 파일 관리 (조회, 내용 읽기) 및 실행 API 엔드포인트 개발
-   [x] **3단계: 기본 프론트엔드-백엔드 연동**
    -   [x] 프론트엔드에서 버튼을 누르면 백엔드 API를 호출하여 테스트를 실행시키는 기능 구현
    -   [x] 프론트엔드에서 테스트 파일 목록을 조회하고 내용을 표시하는 기능 구현
    -   [x] 프론트엔드에서 테스트 실행 결과를 시각적으로 표시하는 기능 구현
-   [ ] **4단계: 시각적 테스트 편집기 개발**
    -   [ ] 테스트 모듈(노드)을 드래그 앤 드롭할 수 있는 UI 구현
    -   [ ] 노드를 연결하여 테스트 흐름을 정의하는 기능 구현
    -   [ ] 시각적 흐름 정보를 백엔드가 해석할 수 있는 데이터 구조(예: JSON)로 변환
-   [ ] **5단계: 동적 테스트 생성 및 실행**
    -   [ ] 백엔드에서 프론트엔드로부터 받은 JSON 데이터를 기반으로 Playwright 테스트 스크립트를 동적으로 생성하고 실행하는 로직 구현
-   [x] **6단계: 실시간 실행 뷰 구현**
    -   [x] WebSocket을 사용하여 백엔드의 Playwright 화면(스크린샷) 및 `list` reporter의 상세 로그를 프론트엔드로 실시간 스트리밍하는 기능 개발

